/*
 * w25qxx.h
 *
 *  Created on: May 11, 2024
 *      Author: dbank
 */

#ifndef INC_W25QXX_H_
#define INC_W25QXX_H_

#ifdef __cplusplus
 extern "C" {
#endif

#define MEMORY_FLASH_SIZE				0x8000000	/*128Mbit*/ /* 32Mbit =>4Mbyte */
#define MEMORY_BLOCK_SIZE				0x10000   /*  blocks of 64KBytes */
#define MEMORY_SECTOR_SIZE				0x1000    /* 4kBytes */
#define MEMORY_PAGE_SIZE				0x100     /* 256 bytes */


#if MEMORY_FLASH_SIZE > 0x8000000
	#define HAL_OSPI_ADDRESS_SIZE		HAL_OSPI_ADDRESS_32_BITS
#else
	#define HAL_OSPI_ADDRESS_SIZE		HAL_OSPI_ADDRESS_24_BITS
#endif


 /*W25Q64JV commands */
 #define CHIP_ERASE_CMD 0xC7
 #define READ_STATUS_REG_CMD 0x05
 #define WRITE_ENABLE_CMD 0x06
 #define VOLATILE_SR_WRITE_ENABLE             0x50
 #define READ_STATUS_REG2_CMD 0x35
 #define WRITE_STATUS_REG2_CMD 0x31
 #define READ_STATUS_REG3_CMD 0x15
 #define WRITE_STATUS_REG3_CMD                0x11
 #define SECTOR_ERASE_CMD 0x20
 #define BLOCK_ERASE_CMD 0xD8
 #define QUAD_IN_FAST_PROG_CMD 0x32
 #define FAST_PROG_CMD 0x02
 #define QUAD_OUT_FAST_READ_CMD 0x6B
 #define DUMMY_CLOCK_CYCLES_READ_QUAD 8
 #define QUAD_IN_OUT_FAST_READ_CMD 0xEB
 #define RESET_ENABLE_CMD 0x66
 #define RESET_EXECUTE_CMD 0x99



 HAL_StatusTypeDef QSPI_ResetChip(OSPI_HandleTypeDef* hospi);
 HAL_StatusTypeDef QSPI_AutoPollingMemReady(OSPI_HandleTypeDef* hospi);



#ifdef __cplusplus
}
#endif

#endif /* INC_W25QXX_H_ */
