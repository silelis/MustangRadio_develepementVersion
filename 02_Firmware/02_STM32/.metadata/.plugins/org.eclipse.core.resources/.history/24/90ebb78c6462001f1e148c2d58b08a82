#ifndef myLIST_H
#define myLIST_H

//#include <cstdint>
#include <stdint.h>
//#include <iostream>
//#include <cstring>
#include <string.h>
#include "SileliS_code/menuItem.h"

class myList:protected menuItem {
public:
    // Konstruktor
    myList(const char* nodeName, uint8_t execFunctionArraySize);

    // Destruktor
    deleteList();
    ~myList();

    // Dodawanie elementów do listy
    void addAtBeginning(const char* nodeName, uint8_t execFunctionArraySize);
    void addAtEnd(const char* nodeName, uint8_t execFunctionArraySize);

    // Poruszanie się po liście
    void resetToFirst();
    myList* moveToNext();
    void 	moveToNextInLoop(void);
    uint8_t getCurrentNodeIndex() const;
    bool isAtEnd() const;

    // Usuwanie elementu z listy
    //void removeElement(uint8_t indexToDelete);

    // Wydrukowanie elementów listy
    void printList() const;
    void printCurrent() const;

private:
    //char* name;      // Nazwa węzła

    static myList* current; // Wskaźnik do aktualnego elementu listy
    myList* next;      // Wskaźnik do następnego elementu w liście
    static myList* head;   // Wskaźnik do pierwszego elementu listy
    uint8_t index;   // Indeks węzła
    static uint8_t indexCounter; // Licznik indeksów

    // Prywatna funkcja do renumeracji węzłów
    void renumberNodes();

    // Prywatna funkcja do sprawdzania, czy można dodać element do listy
    bool canAddItem() const;

    // Prywatna funkcja do zwalniania pamięci
    void freeList();
    myList* createNode(const char *nodeName);
};

#endif // LIST_H
