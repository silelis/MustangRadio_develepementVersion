/*
 * keyboardToFunction.h
 *
 *  Created on: Apr 24, 2025
 *      Author: dbank
 */

#ifndef INC_SILELIS_CODE_KEYBOARDTOFUNCTION_H_
#define INC_SILELIS_CODE_KEYBOARDTOFUNCTION_H_
#include <iostream>
#include <functional>
#include "comunicationStructures.h"
#include <string.h>
#include "SileliS_code/myPrintfTask.h"

struct _execute_t{
	keyboardUnion buttonSequence;				//kod klawisza wywołujący funkcję
	std::function<void()> functionPointer;		//wskaźnik do funkcji jaka ma być wywołana
	void (*func_ptr)(void);
};

const uint8_t EXECUTALBE_BUTTONS_ARRAY_SIZE = 18;

class keyboardToFunction {
public:
	keyboardToFunction();
	virtual ~keyboardToFunction();
	//bool	mI_appendExecFunctionArry(keyboardUnion buttonSequence, std::function<void()> newFunc);
	//bool	mI_executeExecutableButtons(keyboardUnion buttonSequence);

//private:
	uint8_t	searchButtonSequenceInExecutableButtonsArray(keyboardUnion buttonSequence);
	bool	isButtonSequenceInExecutableButtonsArray(keyboardUnion buttonSequence);
	void	buildExecutableButtonsArrayEmpty(void);
	bool	executeButtonFunction(keyboardUnion buttonSequence);

//	void	appendFunctionPointer(std::function<void()>* funcPtr, std::function<void()> newFunc);
	bool	appendButtonArrayWithFunctionPointer(keyboardUnion buttonSequence, std::function<void()> newFunc);
	bool	appendButtonArrayWithFunctionPointer(uint8_t buttonPlaceInArray, std::function<void()> newFunc);


	bool	appendButtonArrayWithFunctionPointer1(keyboardUnion buttonSequence, void (*func)(void*));

	//void	executeFunctionPointer(std::function<void()>* funcPtr);


protected:

private:

	_execute_t	ExecutableButtonsArray[EXECUTALBE_BUTTONS_ARRAY_SIZE];
	void noButtonInArrayMessage(keyboardUnion buttonSequence);
};

#endif /* INC_SILELIS_CODE_KEYBOARDTOFUNCTION_H_ */
